<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>孔孟之道--国学馆列表</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <style>
        body {
            background-color: #e9c19a;
        }

        .fr {
            float: right;
        }

        .fl {
            float: left;
        }

        .p20px {
            padding: 0px 20px;
        }

        .clr {
            overflow: hidden;
        }

        .p20px {
            padding: 0 20px;
        }

        .list_bj {
            width: 100%;
            background: #e9c19a;
            min-height: 50px;
        }

        .list_bj .list_bjDiv {
            width: 67px;
            height: 86px;
            margin: 0 auto;
            padding: 13px 0;
        }

        .list_bj .list_bjDiv img {
            width: 67px;
            height: 86px;
        }

        .list_bj .p {
            width: 100%;
            height: 20px;
            line-height: 20px;
            font-size: 13px;
            text-align: center;
            padding-bottom: 13px;
            display: block;
        }

        .row {
            display: -webkit-box;
            display: -webkit-flex;
        }

        .col {
            -webkit-box-flex: 1;
            -webkit-flex: 1;
            flex: 1;
            margin: 0 5px;
            position: relative;
        }
        /*.border_t{border-top: 1px solid #f2f2f2;}
        .border_r{border-right: 1px solid #f2f2f2;}*/
        /* 弹出工具条 */

        .musiclist-item-tool {
            background-color: #e9c19a;
            color: #fff;
            display: -webkit-box;
            padding: 0 10px;
            display: none;
        }

        .musiclist-item-tool .userinfocol {
            -webkit-box-flex: 1;
            text-align: center;
            padding: 5px 0;
        }

        .musiclist-item-tool .userinfocol .info img {
            width: 50%;
        }

        .musiclist-item-tool .userinfocol .num {
            color: #A8A8A8;
            font-size: 0.8em;
        }
        /* 悬浮 */

        .exitbtnhover {
            background-color: #d33a31;
            color: #fff;
        }

        .userinfo .toolhover {
            background-color: #e9c19a;
        }

        .musiclist-item-tool .toolhover {
            background-color: #e9c19a;
        }

        .allplayhover {
            background-color: #e2e2e2;
        }

        .userinfo {
            display: -webkit-box;
            /*padding: 10px 0;*/
        }

        .userinfo .userinfocol {
            text-align: center;
            box-sizing: border-box;
            width: 25%;
            height: 70px;
            /*background: rgba(00, 00, 00, 0.3);*/
        }

        .userinfo .userinfocol .info {
            font-size: 0.8em;
            color: #999;
            line-height: 50px;
            height: 50px;
        }

        .userinfo .userinfocol .info img {
            width: 3em;
            padding: 10px 0;
        }

        .userinfo .userinfocol .num {
            padding-top: 5px;
        }

        #con {
            background-color: #fff;
        }

        #con ul {
            padding: 10px;
        }

        #con ul li {
            border-bottom: 1px solid #e6e6e6;
            text-indent: 10px;
            overflow: hidden;
        }

        #con ul li div span {
            display: block;
            line-height: 50px;
            font-size: 12px;
        }

        .on_li_divImg img {
            width: 30px;
            padding: 10px 0;
        }

        .on_li_divImg1 {
            width: 30px;
            padding: 10px;
            line-height: 30px;
            font-size: 15px;
            color: #ccc;
        }

        .on_li_divImg {
            height: 50px;
            line-height: 50px;
            width: 55px;
            text-align: center;
        }

        .on_li_divImg b {
            font-size: 30px;
            color: #999;
        }

        .userinfocol_div {
            font-size: 12px;
        }

        #header {
            position: fixed;
            top: 0;
            left: 0;
        }

        .fixed {
            position: fixed;
            top: 0px;
            left: 0;
            right: 0;
            background: #e9c19a;
        }
    </style>
</head>

<body>
    <div id="header"></div>
    <div class="list_bj">
        <div class="list_bjDiv"><img src="../image/KM_szj.jpg" alt=""></div>
        <p class="p">三字经</p>
    </div>
    <div class="list_bjDiv_img" id="nav">
        <div class="userinfo">
            <div class="userinfocol border_t border_r" tapmode="toolhover" onclick="collectmusic(this)" data-click="0">
                <div class="info"><img src="../image/KM_hxs.png" alt="" class="collectmusic"></div>
                <div class="userinfocol_div">123</div>
            </div>
            <div class="userinfocol border_t border_r" tapmode="toolhover" onclick="">
                <div class="info"><img src="../image/KM_listpl.png" alt=""></div>
                <div class="userinfocol_div">123</div>
            </div>
            <div class="userinfocol border_t border_r" tapmode="toolhover" onclick="collectmusicdz(this)" data-click="0">
                <div class="info"><img src="../image/KM_listdz.png" alt="" class="collectmusicdz"></div>
                <div class="userinfocol_div">123</div>
            </div>
            <div class="userinfocol border_t" tapmode="toolhover" onclick="fnOpenPlayShare();">
                <div class="info"><img src="../image/fx.png" alt=""></div>
                <div class="userinfocol_div">123</div>
            </div>
        </div>
    </div>
    <div id="con">
        <ul class="on">
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>1</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>2</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>3</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>4</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>5</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>6</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>7</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>8</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>9</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>10</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
            <li onclick="fnOpenPlay();">
                <div class="on_li_divImg fl">
                    <b>11</b>
                </div>
                <div class="fl">
                    <span>三字经</span>
                </div>
                <div class="on_li_divImg1 fr"> > </div>
            </li>
        </ul>

    </div>
</body>

</html>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
    apiready = function() {
        functionName();
    }

    function functionName() {
        function getElementViewTop(element) {
            var actualTop = element.offsetTop;
            var current = element.offsetParent;
            while (current !== null) {
                actualTop += current.offsetTop;
                current = current.offsetParent;
            }
            var elementScrollTop = 0;
            if (document.compatMode == "BackCompat") {
                elementScrollTop = document.body.scrollTop;
            } else {
                elementScrollTop = document.documentElement.scrollTop;
            }
            return actualTop;
            //　return actualTop-elementScrollTop;
        }

        function getScroll() {
            var top, left, width, height;

            if (document.documentElement && document.documentElement.scrollTop) {
                top = document.documentElement.scrollTop;
                left = document.documentElement.scrollLeft;
                width = document.documentElement.scrollWidth;
                height = document.documentElement.scrollHeight;
            } else if (document.body) {
                top = document.body.scrollTop;
                left = document.body.scrollLeft;
                width = document.body.scrollWidth;
                height = document.body.scrollHeight;
            }
            // alert(top);
            // console.log(top);
            return {
                'top': top,
                'left': left,
                'width': width,
                'height': height
            };
        }
        var nav = document.getElementById('nav');
        var posTop = getElementViewTop(nav);
        window.addEventListener('scroll', function(event) {
            var scrollTop = getScroll().top;
            // var output = document.getElementById('output');
            // output.innerHTML = posTop +' '+scrollTop+' '+(posTop-scrollTop);
            if (posTop >= 30 && posTop - scrollTop <= 30)
                nav.className = 'nav fixed';
            else nav.className = 'nav';
        }, false);
    }



    function collectmusic(clicktoolitem) {
        var toolbarlist = document.getElementsByClassName('collectmusic')[0];
        var click = clicktoolitem.getAttribute("data-click");

        if (click == 0) {
            // 点开
            clicktoolitem.setAttribute("data-click", 1);
            toolbarlist.src = "../image/KM_hx.png";
        } else {
            // 关闭
            clicktoolitem.setAttribute("data-click", 0);
            toolbarlist.src = "../image/KM_hxs.png";
        }
    }

    function collectmusicdz(clicktoolitemdz) {
        var toolbarlistdz = document.getElementsByClassName('collectmusicdz')[0];
        var click = clicktoolitemdz.getAttribute("data-click");

        if (click == 0) {
            // 点开
            clicktoolitemdz.setAttribute("data-click", 1);
            toolbarlistdz.src = "../image/KM_listdzs.png";
        } else {
            // 关闭
            clicktoolitemdz.setAttribute("data-click", 0);
            toolbarlistdz.src = "../image/KM_listdz.png";
        }
    }

    function fnOpenPlay() {
        api.openWin({
            name: 'play',
            url: './play.html',
        });

    }
    //打开分享
    function fnOpenPlayShare() {
        var dialogBox = api.require('dialogBox');
        dialogBox.actionMenu({
            rect: {
                h: 150
            },
            texts: {
                cancel: '取消'
            },
            items: [{
                text: '微信',
                icon: 'widget://image/weixin.png'
            }, {
                text: 'QQ',
                icon: 'widget://image/qq.png'
            }, {
                text: '朋友圈',
                icon: 'widget://image/friends.png'
            }],
            styles: {
                bg: '#FFF',
                column: 3,
                itemText: {
                    color: '#000',
                    size: 12,
                    marginT: 8
                },
                itemIcon: {
                    size: 48
                },
                cancel: {
                    bg: 'fs://icon.png',
                    color: '#000',
                    h: 44,
                    size: 14
                }
            },
            tapClose: true
        }, function(ret) {

            if (ret.index == "0") {
                dialogBox.close({
                    dialogName: 'alert'
                });
                // alert(1);
            } else if (ret.index == "1") {
                dialogBox.close({
                    dialogName: 'alert'
                });
                // alert(2);
            } else if (ret.index == "2") {
                dialogBox.close({
                    dialogName: 'alert'
                });
                // alert(3);
            } else {
                dialogBox.close({
                    dialogName: 'alert'
                });
            }
            // dialogBox.close({
            //     dialogName: 'alert'
            // })
            alert(JSON.stringify(ret))

        });
    }
</script>
