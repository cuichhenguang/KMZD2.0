<!DOCTYPE html>
  <html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
      <title>孔孟之道--熏听</title>
      <link rel="stylesheet" type="text/css" href="../css/api.css"/>
      <style>
        body,html{
          background-color: #111010;
          /*background-image: url(../image/KM_listen_bg.png);
          background-size: cover;
          background-repeat: no-repeat;*/
        }
        .wrap{
          background-image: url(../image/KM_listen_bg.png);
          background-size: cover;
          background-repeat: no-repeat;
          height: 100%;

        }
        nav{
          width:100%;
          text-align: center;
        }
        .video-play{
          padding-top: 50px;
        }
        .table-img{
          margin-top: -30px;
        }
        .table-img img{
          width:100%;
          height:auto;
        }
        .bottom-img{
          background-image : url(../image/bottom.png);
          background-repeat: no-repeat;
          background-size: contain;
          width:260px;
          height:260px;
          margin: 0 auto;
          position: relative;
        }
        .video{
          width:190px;
          height:190px;
          position: absolute;
          top: 34px;
          left: 27px;
        }
        .video>img{
          width:190px;
        }
        .play{
          padding:10px 0;
        }
        .play>img{
          width:72%;
          line-height: 40px;
        }
        .play>span{
          font-size: 14px;
          color:#fff;
          /*vertical-align: bottom;*/
          line-height: 40px;
          width:8%;
          text-align: center;
        }
        section{
          display: flex;
          display: -webkit-flex;
          display: -webkit-box;

        }
        .item-sort{
          flex:1;
          -webkit-flex:1;
          -webkit-box-flex:1;
          background-position: center;
          background-repeat: no-repeat;
          background-size: contain;
          text-align: center;
          line-height: 95px;
        }
        @-webkit-keyframes rotation{
          from {-webkit-transform: rotate(0deg);}
          to {-webkit-transform: rotate(360deg);}
        }
        .Rotation{
          -webkit-transform: rotate(360deg);
          animation: rotation 5s linear infinite;
          -moz-animation: rotation 5s linear infinite;
          -webkit-animation: rotation 5s linear infinite;
          -o-animation: rotation 5s linear infinite;
        }
        #slider {
            height: 50px;
            position: relative;
        }
    		#slider span{
    			position: absolute;
          bottom: 0;
          font-size: 12px;
          color: #ccc;
          /*display: inline-block;*/
    		}
    		#slider .s{
    			left: 10px;
    		}
    		#slider .e{
    			right: 10px;
    		}
        #pg{
          width:300px;
          height: 8px;
          border-radius: 4px;
          color:#ccc;
          vertical-align: middle;
          -webkit-appearance: none;
        }
        progress ::-webkit-progress-inner-element { }
        progress ::-webkit-progress-bar { border: 1px solid black; }
        progress ::-webkit-progress-value { background: #fff; }

        progress::-moz-progress-bar { background: #fff; }

        progress ::-ms-fill { background: #fff; }
        progress::-webkit-progress-inner-element { border-radius: 10px; }
        progress::-webkit-progress-value { border-radius: 10px; }
        progress::-webkit-progress-bar { border-radius: 10px; }
        /*progress::-webkit-progress-bar { background: transparent; }*/
        ::-ms-fill{
            background:#89211b;
        }
        ::-moz-progress-bar{
            background:#89211b;
         }
        ::-webkit-progress-bar{
            background:#fff;
         }
        ::-webkit-progress-value{
            background:#89211b;
        }

      </style>
  </head>
  <body>
    <div class="wrap">
      <nav id="nav">
        <div class="video-play" >
          <div class="bottom-img">
            <div class="video" >
              <img src="../image/pan.png" alt="" class=" " id="video">
            </div>
          </div>
          <div class="table-img">
            <img src="../image/table.png" alt="">
          </div>
        </div>
        <div id="control" class="qx">
          <div id="slider">
              <span class="s">13:00:00</span>
              <span class="e">14:00:00</span>
          </div>
          <!-- <span class="playTime">1.46</span> -->
          <!-- <span id="slider"></span> -->
          <!-- <img src="../image/KM_play.png" alt="" > -->
          <!--外层容器-->
          <!-- <progress max="100" value="0" id="pg"></progress> -->
          <!-- <span class="playTime">3.46</span> -->
        </div>
      <!-- <div id="slider">
    		<span class="s">13:00:00</span>
    		<span class="e">14:00:00</span>
    	</div> -->
      </nav>
      <section>
        <div class="item-sort">
          <img src="../image/delete.png" alt="">
        </div>
        <div class="item-sort">
          <img src="../image/collect.png" alt=""  onclick="fnOpenCollect();" id="collect">
        </div>
        <div class="item-sort">
          <img src="../image/footer_bf0.png" alt="" onclick="fnOpenPlayButton();" id="playButton">
        </div>
        <div class="item-sort">
          <img src="../image/next.png" alt="">
        </div>
        <div class="item-sort">
          <img src="../image/discuss.png" alt="" onclick="fnOpenPlayDiscuss();">
        </div>
      </section>
    </div>
  </body>
  <script type="text/javascript" src="../script/api.js"></script>
  <script type="text/javascript" src="../script/zepto.js"></script>
  <script type="text/javascript" src="../script/swiper.min.js"></script>
  <script type="text/javascript">
    apiready = function(){
      var $slider = $('#slider');
      var sliderPos = $slider.offset();
      var obj = api.require('slider');
      var values = 50;

      obj.open({
          x: 56,
          y: sliderPos.top + 108,
          w: api.winWidth-100,
          bgImg: "widget://image/slider/slider-bg.png",
          selectedBgImg: "widget://image/slider/slider-fg.png",
          bar: {
              barWidth: 20,
              barHeight: 20,
              barImg: "widget://image/slider/slider-btn.png"
          },
          bubble: {
              bubbleWidth: 0,
              bubbleHeight: 0
          },
          minValue: 0,
          maxValue: 100,
          defValue: 0,
          fixed: true,
          // value:values
      }, function(ret, err) {
        // var slider = api.require('slider');
        // slider.setValue({
        //     id: 1,
        //     value: 51
        // });
          // alert(JSON.stringify( ret ));
          // console.log(JSON.stringify(values));
          if (ret.touchCancel) {
              // api.alert({msg:ret.value});
          }
      });

    }
    //播放
    // var time1;
    // function a (){
    //   var pg = document.getElementById('pg')
    //   time1=setInterval(function(e){
    //         if(pg.value!=100) pg.value++;
    //          else pg.value=0;
    //    },200);
    // }
    // function b(){
    //   clearInterval(time1);
    // }
    function fnOpenPlayButton(){
      var playButton = $api.byId('playButton');
      var video = $api.byId('video');
      if(playButton.getAttribute("src",2)=="../image/footer_bf0.png"){
        playButton.src="../image/footer_bf1.png";
        // $api.addCls(video, 'Rotation');
        // a();

      }else{
        playButton.src="../image/footer_bf0.png";
        // $api.removeCls(video, 'Rotation');
        // b();
      }
    }
    // 收藏
    function fnOpenCollect(){
      var collect = $api.byId('collect');
      if(collect.getAttribute("src",2)=="../image/collect.png"){
        collect.src="../image/collect1.png";
      }else{
        collect.src="../image/collect.png";
      }
    };
    // 打开评论页面
    function fnOpenPlayDiscuss(){
      api.openWin({
        name: 'playDiscuss',
        url: './play_discuss.html',
      })
    }
  </script>
  </html>
